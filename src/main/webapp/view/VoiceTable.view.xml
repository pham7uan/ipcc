<mvc:View
        controllerName="sap.ui.ipcc.wt.controller.VoiceTable"
        xmlns:html="http://www.w3.org/1999/xhtml"
        xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
        xmlns="sap.ui.table"
        xmlns:mvc="sap.ui.core.mvc"
        xmlns:u="sap.ui.unified"
        xmlns:c="sap.ui.core"
        xmlns:m="sap.m">
    <!--<List id="voiceList"
          mode="SingleSelectMaster"
          width="auto"
          items="{voice>/}">
        <headerToolbar>
            <Toolbar>
                <Title text="{i18n>voiceListTitle}"/>
                <ToolbarSpacer/>
                <SearchField width="50%" search="onFilterVoices" selectOnFocus="false"/>
            </Toolbar>
        </headerToolbar>
        <CustomListItem>
            <HBox>
                <core:Icon size="2rem" src="sap-icon://record"
                           class="sapUiSmallMarginBegin sapUiSmallMarginTopBottom"/>
                <VBox class="sapUiSmallMarginBegin sapUiSmallMarginTopBottom">
                    <Link text="{voice>customer_name}"
                          target="_blank"
                          href="http://10.2.8.58:8181/voice_mail/{voice>path_file_record}"/>
                    <Label text="{voice>customer_phone}"/>
                </VBox>

            </HBox>
            &lt;!&ndash;<html:audio controls="controls">
                <html:source src="http://10.2.8.58:8181/voice_mail/{voice>path_file_record}" type="audio/wav"/>
                Your browser does not support the audio element.
            </html:audio>&ndash;&gt;
        </CustomListItem>
    </List>-->

    <m:Toolbar>
        <m:Title text="{i18n>voiceListTitle}"/>
        <m:ToolbarSpacer/>
        <m:ToggleButton
                text="Seen"
                icon="sap-icon://complete"
                tooltip="Show seen voice mail only"
                press="toggleAvailabilityFilter"
                pressed="{ui>/availabilityFilterOn}"/>
        <!--<m:ToggleButton
                icon="sap-icon://grid"
                tooltip="Enable / Disable Cell Filter Functionality"
                pressed="{ui>/cellFilterOn}"/>-->
        <m:Button
                icon="sap-icon://decline"
                tooltip="Clear all filters and sortings"
                press="clearAllFilters"/>
        <m:ToolbarSeparator/>
        <m:SearchField placeholder="Search customer's name, type, phone..." value="{ui>/globalFilter}" width="22rem"
                       search="filterGlobally" selectOnFocus="false"/>
    </m:Toolbar>

    <m:Toolbar>
        <m:CheckBox text="{i18n>dateFindTitle}" select="showFindDate" width="10rem"/>
        <m:Text text="From" textAlign="Center"/>
        <m:DatePicker id="dateFrom" displayFormat="short" enabled="{dateModel>/dateFind}" width="15rem"
                      dateValue="{dateModel>/dateStart}"/>
        <m:Text text="To" textAlign="Center"/>
        <m:DatePicker id="dateTo" displayFormat="short" enabled="{dateModel>/dateFind}" width="15rem"
                      dateValue="{dateModel>/dateEnd}"/>
        <m:Button
                enabled="{dateModel>/dateFind}"
                icon="sap-icon://search"
                tooltip="Search"
                press="findBetweenDate"/>
        <m:ToolbarSpacer/>
        <m:Button
                text="Export to Excel"
                icon="sap-icon://excel-attachment"
                tooltip="Export table data to excel file"
                press="exportTable"/>
    </m:Toolbar>

    <Table id="table"
           selectionMode="None"
           enableCellFilter="{ui>/cellFilterOn}"
           filter="filterGlobally"
           inset="false"
           ariaLabelledBy="title"
           rows="{
			path: '/'
		}">

        <columns>
            <Column
                    hAlign="Center"
                    width="5em"
                    demandPopin="true">
                <m:Label text="Id"/>
                <template>
                    <m:Text text="{id}" wrapping="false"/>
                </template>
            </Column>
            <Column
                    hAlign="Center"
                    width="5em"
                    demandPopin="true">
                <m:Label text="Record"/>
                <template>
                    <m:Button icon="sap-icon://media-play" app:mydata="{id}" app:mydataName="{customer_name}"
                              app:mydataDate="{date_record}"
                              app:mydataLink="http://10.2.8.58:8181/voice_mail/{path_file_record}" press="clickLink"/>
                    <!--<m:Link text="Play"
                            target="_blank"
                            app:mydata="{id}" press="clickLink"
                            href="http://10.2.8.58:8181/voice_mail/{path_file_record}"/>-->

                </template>
            </Column>
            <Column
                    sortProperty="customer_name"
                    filterProperty="customer_name"
                    minScreenWidth="Tablet"
                    demandPopin="true">
                <m:Label text="Customer Name"/>
                <template>
                    <m:Text text="{customer_name}" wrapping="false"/>
                </template>
            </Column>
            <Column
                    sortProperty="customer_type"
                    filterProperty="customer_type"
                    minScreenWidth="Tablet"
                    demandPopin="true">
                <m:Label text="Customer Type"/>
                <template>
                    <m:Text text="{customer_type}" wrapping="false"/>
                </template>
            </Column>
            <Column
                    id="phone"
                    sortProperty="customer_phone"
                    filterProperty="customer_phone"
                    hAlign="Center"
                    minScreenWidth="Tablet"
                    demandPopin="true">
                <m:Label text="Customer Phone"/>
                <template>
                    <m:Text text="{customer_phone}" wrapping="false"/>
                </template>
            </Column>
            <Column
                    sortProperty="date_record"
                    filterProperty="date_record"
                    minScreenWidth="Tablet"
                    demandPopin="true">
                <m:Label text="Date Record"/>
                <template>
                    <m:Text text="{date_record}" wrapping="false"/>
                </template>
            </Column>
            <Column
                    sortProperty="branch_call"
                    filterProperty="branch_call"
                    minScreenWidth="Tablet"
                    demandPopin="true">
                <m:Label text="Brand Call"/>
                <template>
                    <m:Text text="{branch_call}" wrapping="false"/>
                </template>
            </Column>
            <Column
                    id="availability"
                    showFilterMenuEntry="false"
                    defaultFilterOperator="EQ"
                    filterType="sap.ui.model.type.Boolean"
                    filterProperty="status_agent_seen"
                    hAlign="Center"
                    minScreenWidth="Tablet"
                    demandPopin="true">
                <m:Label text="Seen"/>
                <template>
                    <!--<m:Text text="{voice>status_agent_seen}" wrapping="false"/>-->
                    <m:CheckBox editable="false" selected="{= ${status_agent_seen} !== '0' }"/>
                </template>
            </Column>
            <Column
                    sortProperty="agent_note"
                    filterProperty="agent_note"
                    minScreenWidth="Tablet"
                    demandPopin="true">
                <m:Label text="Note"/>
                <template>
                    <m:HBox>
                        <m:Input
                                name="{id}"
                                value="{agent_note}"
                                type="Text"/>
                        <m:Button
                                icon="sap-icon://save"
                                app:mydataInput="{id}"
                                press="saveNote"
                        />
                    </m:HBox>

                </template>
            </Column>
        </columns>
    </Table>
</mvc:View>